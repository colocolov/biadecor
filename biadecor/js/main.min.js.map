{"version":3,"sources":["dinam-adap.js","main-slider.js","modal.js","nav.js","scrollTo.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.min.js","sourcesContent":["\"use strict\";\n\nfunction DynamicAdapt(type) {\n  this.type = type;\n}\n\nDynamicAdapt.prototype.init = function () {\n  const _this = this;\n  // массив объектов\n  this.оbjects = [];\n  this.daClassname = \"_dynamic_adapt_\";\n  // массив DOM-элементов\n  this.nodes = document.querySelectorAll(\"[data-da]\");\n\n  // наполнение оbjects объктами\n  for (let i = 0; i < this.nodes.length; i++) {\n    const node = this.nodes[i];\n    const data = node.dataset.da.trim();\n    const dataArray = data.split(\",\");\n    const оbject = {};\n    оbject.element = node;\n    оbject.parent = node.parentNode;\n    оbject.destination = document.querySelector(dataArray[0].trim());\n    оbject.breakpoint = dataArray[1] ? dataArray[1].trim() : \"767\";\n    оbject.place = dataArray[2] ? dataArray[2].trim() : \"last\";\n    оbject.index = this.indexInParent(оbject.parent, оbject.element);\n    this.оbjects.push(оbject);\n  }\n\n  this.arraySort(this.оbjects);\n\n  // массив уникальных медиа-запросов\n  this.mediaQueries = Array.prototype.map.call(\n    this.оbjects,\n    function (item) {\n      return (\n        \"(\" +\n        this.type +\n        \"-width: \" +\n        item.breakpoint +\n        \"px),\" +\n        item.breakpoint\n      );\n    },\n    this\n  );\n  this.mediaQueries = Array.prototype.filter.call(\n    this.mediaQueries,\n    function (item, index, self) {\n      return Array.prototype.indexOf.call(self, item) === index;\n    }\n  );\n\n  // навешивание слушателя на медиа-запрос\n  // и вызов обработчика при первом запуске\n  for (let i = 0; i < this.mediaQueries.length; i++) {\n    const media = this.mediaQueries[i];\n    const mediaSplit = String.prototype.split.call(media, \",\");\n    const matchMedia = window.matchMedia(mediaSplit[0]);\n    const mediaBreakpoint = mediaSplit[1];\n\n    // массив объектов с подходящим брейкпоинтом\n    const оbjectsFilter = Array.prototype.filter.call(\n      this.оbjects,\n      function (item) {\n        return item.breakpoint === mediaBreakpoint;\n      }\n    );\n    matchMedia.addListener(function () {\n      _this.mediaHandler(matchMedia, оbjectsFilter);\n    });\n    this.mediaHandler(matchMedia, оbjectsFilter);\n  }\n};\n\nDynamicAdapt.prototype.mediaHandler = function (matchMedia, оbjects) {\n  if (matchMedia.matches) {\n    for (let i = 0; i < оbjects.length; i++) {\n      const оbject = оbjects[i];\n      оbject.index = this.indexInParent(оbject.parent, оbject.element);\n      this.moveTo(оbject.place, оbject.element, оbject.destination);\n    }\n  } else {\n    for (let i = 0; i < оbjects.length; i++) {\n      const оbject = оbjects[i];\n      if (оbject.element.classList.contains(this.daClassname)) {\n        this.moveBack(оbject.parent, оbject.element, оbject.index);\n      }\n    }\n  }\n};\n\n// Функция перемещения\nDynamicAdapt.prototype.moveTo = function (place, element, destination) {\n  element.classList.add(this.daClassname);\n  if (place === \"last\" || place >= destination.children.length) {\n    destination.insertAdjacentElement(\"beforeend\", element);\n    return;\n  }\n  if (place === \"first\") {\n    destination.insertAdjacentElement(\"afterbegin\", element);\n    return;\n  }\n  destination.children[place].insertAdjacentElement(\"beforebegin\", element);\n};\n\n// Функция возврата\nDynamicAdapt.prototype.moveBack = function (parent, element, index) {\n  element.classList.remove(this.daClassname);\n  if (parent.children[index] !== undefined) {\n    parent.children[index].insertAdjacentElement(\"beforebegin\", element);\n  } else {\n    parent.insertAdjacentElement(\"beforeend\", element);\n  }\n};\n\n// Функция получения индекса внутри родителя\nDynamicAdapt.prototype.indexInParent = function (parent, element) {\n  const array = Array.prototype.slice.call(parent.children);\n  return Array.prototype.indexOf.call(array, element);\n};\n\n// Функция сортировки массива по breakpoint и place\n// по возрастанию для this.type = min\n// по убыванию для this.type = max\nDynamicAdapt.prototype.arraySort = function (arr) {\n  if (this.type === \"min\") {\n    Array.prototype.sort.call(arr, function (a, b) {\n      if (a.breakpoint === b.breakpoint) {\n        if (a.place === b.place) {\n          return 0;\n        }\n\n        if (a.place === \"first\" || b.place === \"last\") {\n          return -1;\n        }\n\n        if (a.place === \"last\" || b.place === \"first\") {\n          return 1;\n        }\n\n        return a.place - b.place;\n      }\n\n      return a.breakpoint - b.breakpoint;\n    });\n  } else {\n    Array.prototype.sort.call(arr, function (a, b) {\n      if (a.breakpoint === b.breakpoint) {\n        if (a.place === b.place) {\n          return 0;\n        }\n\n        if (a.place === \"first\" || b.place === \"last\") {\n          return 1;\n        }\n\n        if (a.place === \"last\" || b.place === \"first\") {\n          return -1;\n        }\n\n        return b.place - a.place;\n      }\n\n      return b.breakpoint - a.breakpoint;\n    });\n    return;\n  }\n};\n\nconst da = new DynamicAdapt(\"max\");\nda.init();\n","import PhotoSwipeLightbox from 'https://unpkg.com/photoswipe@5.4.2/dist/photoswipe-lightbox.esm.js';\r\nimport PhotoSwipe from 'https://unpkg.com/photoswipe@5.4.2/dist/photoswipe.esm.js';\r\n\r\nconst sliderContainers = document.querySelectorAll('.main-slider');\r\n\r\nsliderContainers.forEach((container, index) => {\r\n\r\n  // слайдер \r\n  const swiper = new Swiper(container, {    \r\n    slidesPerView: 1,\r\n    spaceBetween: 0,\r\n    centeredSlides: true,\r\n    grabCursor: true,\r\n    effect: \"creative\",\r\n    creativeEffect: {\r\n      prev: {\r\n        translate: [\"-50%\", 0, -1],\r\n      },\r\n      next: {\r\n        translate: [\"100%\", 0, 0],\r\n      },\r\n    },\r\n    keyboard: {\r\n      enabled: true,\r\n    },    \r\n    loop: true,  \r\n    navigation: {\r\n      nextEl: \".main-slider__btn-next\",\r\n      prevEl: \".main-slider__btn-prev\",\r\n      clickable: true,\r\n    },\r\n    preloadImages: true,\r\n      lazy: {\r\n        loadOnTransitionStart: true,\r\n        loadPrevNext: true,\r\n    },\r\n  });\r\n  //----- END\r\n\r\n\r\n  const photo_swipe_options = {\r\n    gallery: container,\r\n    pswpModule: PhotoSwipe,\r\n    // set background opacity\r\n    bgOpacity: 1,\r\n    showHideOpacity: true,\r\n    children: 'a',\r\n    loop: true,\r\n    showHideAnimationType: 'fade', /* options: fade, zoom, none */\r\n\r\n    /* Click on image moves to the next slide */\r\n    imageClickAction: 'next',\r\n    tapAction: 'next',\r\n\r\n    /* ## Hiding a specific UI element ## */\r\n    zoom: false,\r\n    close: true,\r\n    counter: true,\r\n    arrowKeys: true,\r\n    /* ## Options ## */\r\n    bgOpacity: \"0.9\",/* deafult: 0.8 */\r\n    wheelToZoom: false, /* deafult: undefined */\r\n  };\r\n\r\n  const lightbox = new PhotoSwipeLightbox(photo_swipe_options);\r\n  // lightbox.init();\r\n\r\n  lightbox.on('change', () => {\r\n    const { pswp } = lightbox;\r\n    swiper.slideTo(pswp.currIndex, 0, false);\r\n    // console.log('Slide index', pswp.currIndex);\r\n    //console.log('Slide object', pswp.currSlide);\r\n    //console.log('Slide object data', pswp.currSlide.data);\r\n  });\r\n\r\n/* ### PhotoSwipe events ### */\r\n\r\n  lightbox.on('afterInit', () => {\r\n    const { pswp } = lightbox;\r\n    if(swiper.params.autoplay.enabled){\r\n      swiper.autoplay.stop();\r\n    };\r\n  });\r\n\r\n  lightbox.on('closingAnimationStart', () => {\r\n    //console.log('closingAnimationStart');\r\n    const { pswp } = lightbox;\r\n    swiper.slideTo(pswp.currIndex, 0, false);\r\n    /* if autoplay enabled == true -> autoplay.start() when close lightbox */\r\n    if(swiper.params.autoplay.enabled){\r\n      swiper.autoplay.start();\r\n    }\r\n  });\r\n  lightbox.init();\r\n});","// modal\nconst modal = document.querySelector(\".modal\");\nconst modalBtn = document.querySelectorAll(\"[data-toggle=modal]\");\nconst modalCloseBtn = document.querySelector(\".modal__close\");\n// tooltip\nconst tooltipBtn = document.querySelectorAll(\".box-btn\");\nconst tooltipContent = document.querySelectorAll(\".box-content\");\nconst tooltipCloseBtn = document.querySelectorAll(\".box-content__close\");\n\n// modal\nfunction removeActive() {\n  modal.classList.remove(\"_active\");\n  document.body.classList.remove(\"_lock\");\n}\n\nif (modal) {\n  modal.addEventListener(\"click\", (e) => {\n    const isModal = e.target.closest(\".modal__inner\");\n    if (!isModal) {\n      removeActive();\n    }\n  });\n\n  modalBtn.forEach((el) => {\n    el.addEventListener(\"click\", (e) => {\n      modal.classList.add(\"_active\");\n      document.body.classList.add(\"_lock\");\n    });\n  });\n\n  modalCloseBtn.addEventListener(\"click\", removeActive);\n\n  document.addEventListener(\"keydown\", (e) => {\n    if (e.key === \"Escape\" || e.code === \"Escape\") {\n      removeActive();\n    }\n  });\n}\n\n// tooltip\nif (tooltipBtn) {\n  tooltipBtn.forEach((el) => {\n    el.addEventListener(\"click\", (e) => {\n      let close = el.childNodes[1].childNodes[1];\n      let content = el.childNodes[1];\n      content.classList.toggle(\"active\");\n\n      close.addEventListener(\"click\", () => {\n        if (content.classList.contains(\"active\")) {\n          content.classList.remove(\"_active\");\n        }\n      });\n    });\n  });\n}\n","// мобильное меню\n\n// меню бургер\nconst iconMenu = document.querySelector(\".menu__icon\");\nconst menuBody = document.querySelector(\".menu__body\");\nconst menuLink = document.querySelectorAll(\".menu__item\");\n\n// const menuLang = document.querySelector(\".header__lang\");\n\nif (iconMenu) {\n  iconMenu.addEventListener(\"click\", function (e) {\n    document.body.classList.toggle(\"_lock\");\n    iconMenu.classList.toggle(\"_active\");\n    menuBody.classList.toggle(\"_active\");\n\n    // const div = document.createElement(\"div\");\n    // div.classList.add(\"header__social\");\n    // div.innerHTML = menuLang.textContent;\n    // menuBody.append(div);\n  });\n}\n// закрытие при клике\nmenuLink.forEach((item) => {\n  item.addEventListener(\"click\", () => {\n    document.body.classList.remove(\"_lock\");\n    iconMenu.classList.remove(\"_active\");\n    menuBody.classList.remove(\"_active\");\n  });\n});\n","const scrollBtn = document.querySelector(\".roller__top .roller__btn\");\n\nif (scrollBtn) {\n  scrollBtn.addEventListener(\"click\", () => {\n    window.scrollTo({\n      left: 0,\n      top: 0,\n      behavior: \"smooth\",\n    });\n  });\n}\n"]}